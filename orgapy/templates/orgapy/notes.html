{% extends "orgapy/skeleton.html" %}
{% load static from staticfiles %}

{% block title %}{% block subtitle %}Notes | {% endblock subtitle %}{{ block.super }}{% endblock title %}

{% block head %}
{{ block.super }}
{% endblock head %}

{% block section %}
<h1>Notes</h1>

<nav class="navbar">
    <form class="form--row" action="{% url 'orgapy:notes' %}" method="get">
        <input type="text" name="query" placeholder="Type your query" value="{% if query %}{{query}}{% endif %}" />
        <input type="submit" name="" value="Search">
    </form>
    <a class="button" href="{% url 'orgapy:create_note' %}">Create note</a>
</nav>

{% include "orgapy/note_list.html" %}

<nav class="navbar">
    <span class="step-links">
        {% if notes.has_previous %}
        <a href="?page=1{% if query %}&query={{query|urlencode}}{% endif %}">&laquo; first</a>
        <a href="?page={{ notes.previous_page_number }}{% if query %}&query={{query|urlencode}}{% endif %}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ notes.number }} of {{ notes.paginator.num_pages }}.
        </span>

        {% if notes.has_next %}
        <a href="?page={{ notes.next_page_number }}{% if query %}&query={{query|urlencode}}{% endif %}">next</a>
        <a href="?page={{ notes.paginator.num_pages }}{% if query %}&query={{query|urlencode}}{% endif %}">last &raquo;</a>
        {% endif %}
    </span>
</nav>

{% endblock section %}
